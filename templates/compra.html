{% extends "modelo.html" %}
{% block conteudo %}
<link rel="stylesheet" href="../static/styles/compra.css">
<script defer src="../static/js/compra.js"></script>
<header>
    <h1>Registrar Compra</h1>
</header>
<main>
    <form id="form-compra">
        <!-- Nome do cliente (exibido somente se o pagamento for fiado) -->
        <section class="nome-cliente-section" style="display:none;">
            <label for="nome-cliente">Nome do Cliente (para pagamento fiado):</label>
            <input type="text" id="nome-cliente" name="nome-cliente" placeholder="Digite o nome do cliente" required>
        </section>

        <!-- Adicionar produtos -->
        <section class="produtos-section">
            <h2>Produtos</h2>
            <div class="produto-adicionar">
                <label for="produto">Produto:</label>
                <select id="produto" name="produto">
                    <option value="" disabled selected>Selecione o produto</option>
                    <option value="1" data-preco="5.00">Pão - R$ 5,00</option>
                    <option value="2" data-preco="3.50">Bolo - R$ 3,50</option>
                    <option value="3" data-preco="8.00">Torta - R$ 8,00</option>
                </select>
                <label for="quantidade">Quantidade:</label>
                <input type="number" id="quantidade" name="quantidade" min="1" placeholder="0">
                <button type="button" id="adicionar-produto">Adicionar</button>
            </div>
            <table id="tabela-produtos">
                <thead>
                    <tr>
                        <th>Produto</th>
                        <th>Quantidade</th>
                        <th>Preço Unitário</th>
                        <th>Total</th>
                        <th>Ações</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Os produtos adicionados aparecerão aqui -->
                </tbody>
            </table>
        </section>

        <!-- Total da compra -->
        <section class="total-section">
            <h2>Total: R$ <span id="total-compra">0.00</span></h2>
        </section>

        <!-- Tipo de pagamento -->
        <section class="pagamento-section">
            <label for="tipo-pagamento">Tipo de Pagamento:</label>
            <select id="tipo-pagamento" name="tipo-pagamento" required>
                <option value="" disabled selected>Selecione o tipo</option>
                <option value="dinheiro">Dinheiro</option>
                <option value="cartao">Cartão</option>
                <option value="pix">Pix</option>
                <option value="fiado">Fiado</option>
            </select>
        </section>

        <button type="submit" id="finalizar-compra">Finalizar Compra</button>
    </form>
</main>
{% endblock %}